---
title: '20210611'
date: 2021-06-11 22:06:31
category: TIL
thumbnail: { thumbnailSrc }
draft: false
---

- MAIN 화면 레이아웃

  - 대망의 하드코딩으로 만든 레이아웃 🤪

  ```tsx
  // 폴더 개수별 레이아웃
  const countOne = [{ top: 120, left: -70 }]
  const countTwo = [...countOne, { top: -60, left: 70 }]
  const countThree = [...countTwo, { top: -24, left: 50 }]
  const countFour = [
    ...countTwo,
    { top: 40, left: -80 },
    { top: -150, left: 60 },
  ]
  const countFive = [
    ...countOne,
    { top: -130, left: -40 },
    { top: 50, left: -80 },
    { top: -150, left: 60 },
    { left: 80, top: -400 },
  ]

  const countSix = [...countFive, { top: -220, left: 70 }]
  const countSeven = [...countSix, { top: -180, left: 50 }]

  export default [
    countOne,
    countTwo,
    countThree,
    countFour,
    countFive,
    countSix,
    countSeven,
  ]
  추
  ```

  ```tsx
  // userFolderLayoutData은 위의 하드코딩한 레이아웃 정보를 가리킴
  // 유저가 생성한 폴더 개수에 맞는 레이아웃 결정
  const layout = userFolderLayoutData[userFolders.length - 1]
  ;<View style={{ flex: 1 }}>
    {userFolders.map(({ id, name, borderColor }, index) => {
      const FolderSvg = FolderSvgs[index]
      return (
        // 레이아웃에 맞게 위치 조정
        <FolderSvg key={id} style={layout[index]} borderColor={borderColor}>
          <FolderName>{name}</FolderName>
        </FolderSvg>
      )
    })}
  </View>
  ```

  - 만들다보니 **문제점**을 발견했다. MAIN화면의 폴더가 FOLDER 화면을 기준으로 순서대로 만든 것 같은데 SORT화면의 순서와 다르다보니 전혀 다른 레이아웃이 만들어졌다.
  - **FOLDER 화면의 레이아웃이 그대로 SORT화면으로 나타나는 것이 자연스럽다**고 생각했다.
  - 문제는 **내가 SORT화면부터 작업**했기 때문에 두 번 일을 안 하기 위해서 **SORT화면 기준**으로 FOLDER 화면을 잡고 MAIN화면도 순서대로 작성하는 순으로 가는 게 개발 시간을 고려했을 때 맞을 것 같다.
  - 추가적으로 **MAIN화면의 레이아웃은 변동성이 없어야 한다**. 모양이 일정하고 간격도 일정하면 괜찮은데 모양이 불규칙하고 간격도 각기 다른 형태는 매번 다른 형태의 레이아웃으로 그리기가 너무나도 어렵다!!(크기 계산해서 옆에 이미지자 겹쳤는지 체크하고 간격벌리고 등등등 실시간으로 복잡한 계산을 수행해야 한다 ㄷㄷ)
