---
title: '20210617'
date: 2021-06-17 23:06:88
category: TIL
thumbnail: { thumbnailSrc }
draft: false
---

## 스캡 프로젝트

- 놓친 디테일 - 추천 색상 클릭시 inner border color 렌더링 - 추가함

  - React Native에서 따로 `inset` 속성을 갖고 있지 않음
  - 그래서 추천색상을 감싸는 `ColorBorder` 컴포넌트와 추천색상 `Color` 컴포넌트 두 개로 분리함
  - `ColorBorder` 는 검정 테두리를 렌더링
  - `Color` 는 흰 테두리를 렌더링
  - 그런데 `ColorBorder` 가 제대로 동작하지 않는 이슈가 있었다. 테두리 노출/비노출을 `borderWidth` 값을 0과 2 사이로 조정해서 구현했는데, 반영이 되는 것도 있고 안 되는 것도 있었다. 추측하기로는 `borderWidth` 조절이 레이아웃을 새로 그리는 `reflow` 를 일으키는데 이부분이 제대로 동작이 안 되는 것 같다. 성능문제도 있고 해서 `borderWidth` 는 고정시키되 `borderColor` 를 조정하여 이슈를 해결했다.

  ```tsx
  const ColorBorder = styled.View((props: { isClicked: boolean }) => ({
    width: 35,
    height: 35,
    marginLeft: 15,
    marginRight: 10,
    borderWidth: 2,
    borderRadius: 35,
    borderColor: props.isClicked ? 'black' : 'transparent',
  }))

  const Color = styled.View((props: { color: string; isClicked: boolean }) => ({
    backgroundColor: props.color,
    width: '100%',
    height: '100%',
    borderRadius: 32,
    borderWidth: 2,
    // inner border는 클릭하지 않은 경우 backgroundColor와 동일하게 적용하여
    // border가 아니라 background 일부인 것처럼 속임수를 씀ㅇ
    borderColor: props.isClicked ? '#fff' : props.color,
  }))
  ```

- `FolderScreen.tsx` 에서 한 곳에 작성해뒀던 코드들을 작은 컴포넌트들로 분리함
  - `Alert` : 커스텀으로 만든 alert
  - `CreateFolderMessage` : 폴더 생성 요청 메세지
  - `FloatingButton` : 플로팅 버튼 (폴더생성모드, 생성완료, 메인화면으로)
  - `FolderSvgs` : 유저가 생성한 폴더
  - `NewFolderSvg` : 생성모드의 폴더
  - `renderScrollable` : 키보드 뒤편 스크롤 가능한 화면
