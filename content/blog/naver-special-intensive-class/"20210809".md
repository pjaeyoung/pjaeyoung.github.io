---
title: '20210809'
date: 2021-08-09 23:08:30
category: naver-special-intensive-class
thumbnail: { thumbnailSrc }
draft: false
---

### 1일차

네이버 특별 심화반 첫 날이다. 오전에는 OT를 가졌고 오후에는 프로젝트 체크리스트를 작성하는 시간을 가졌다. 생각보다 체크리스트 작성하는 데 시간이 많이 걸렸다. 예상보다 많은 개선사항이 나왔고 덧붙여 돋보일 수 있는 기능 구현을 고민이 많았다. 도전적인 기능은 크게 두 가지로 생각하고 있다. 욕심은 구글 비전 API를 사용해 분석한 키워드를 이미지에 메타데이터로 저장해서 검색기능을 구현과 fs로 이미지 불러오기 기능 최적화다. 전자는 새로운 기능이고 검색 최적화를 위해 자료구조를 어떻게 짤 지 알고리즘을 어떻게 적용할 지 고민해야하는 상당히 나에게 난이도가 높은 기능이다. 두 번째는 기존 기능이고 테스트 삼아 1000장의 이미지를 로드했을 때 크게 문제가 없어서 도전하는 의미가 있을 지 감이 안 잡힌다. flatlist 자체에서 최적화가 이미 되고 있는 건지? 추가적으로 조사해야 한다. 이번주는 도전과제를 위한 사전 조사를 하고 빠르게 구현 가능한 태스크부터 해치워야겠다.

좀 더 알차게 보내고 싶은 마음에 프로젝트 코드 리뷰 스터디 모집글을 열었다. 지금까지 아무도 신청하지 않았다. 😂 빡빡한 일정에 또 다른 일거리를 만들기가 다들 두렵나보다. 아쉽다.
![스크린샷, 2021-08-10 00-07-41](https://user-images.githubusercontent.com/47022167/128729845-95b98513-0125-4853-8525-9dacc85835f2.png)

### 프로젝트 개선 진행상황

- 서버와 클라이언트가 동시에 존재하는 레포를 클라이언트 코드만 있도록 함
- 그 과정에서 코드 변경사항이 수천개씩 나타나는 문제가 발생함
  - 클라이언트 코드만 복사해서 강제로 github 레포를 초기화했다.
- 그런데 복사하는 과정에서 누락된 파일들(eslint와 prettier 설정 파일)이 존재했다.
  - 이전에 작성해둔 코드를 그대로 복사 붙여넣기 했다.
- 이제 클라이언트 폴더 밖으로 코드들이 옮겨져서 husky 적용 path를 변경해야 했다.
  - `prepare: cd .. && husky install client/.husky` 에서 `prepare: husky install`로
- 똑같은 실수를 했다!
  - ```
     "scripts": {
      "lint": "eslint --ext .tsx --ext .ts src/",
      "format": "prettier --write src/",
    },
    "lint-staged": {
      "scr/**/*.{ts,tsx}": [
        "yarn lint,
        "yarn test",
        "yarn format"
      ]
    }
    ```
  - lint-staged 기능이 제대로 작동되지 않는 문제(staged 파일 외 모든 파일 검사)가 왜 발생하는 지 원인을 찾느라 고생했다.
  - 원인은 yarn lint와 yarn format을 실행할 때 마지막에 붙인 경로(src/) 때문이다. lint-staged는 staged에서 ts, tsx 파일만 있을 때 명령어를 실행하라고 지정했더라도 실행할 명령어 자체가 src 폴더 하위의 모든 파일을 검사하라했으니 당연한 결과다.
  - 앞으로 똑같은 실수하지 않도록 머릿속에 각인하자!!!
