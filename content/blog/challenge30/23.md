---
title: '23'
date: 2021-04-05 14:04:83
category: challenge30
thumbnail: { thumbnailSrc }
draft: false
---

## vue

일주일 전 아는 지인 분이 외주를 같이 하자 제안 주셔서 하기로 했다. 클라이언트 측에서 vue를 사용하길 원해서 vue를 공부해야 했다. 이전부터 vue랑 react랑 비교할 겸 공부해볼까 생각만 하다 드디어 제대로 볼 기회가 생겨서 좋다.

좋은 기분도 잠시 react에 익숙한 탓인지 vue 사용법이 괴기하게 느껴졌다. 일단 vue가 framework 없을 때 사용했던 방식에 크게 벗어나지 않도록 구성했다는 의미가 무엇인지 알겠다. vue는 html 파일에서 사용하던 익숙한 용어들을 그대로 사용한다. 기본적으로 html에서 콘텐츠를 재사용할 수 있게 해주는 template 태그, javascript를 작성할 수 있는 script 태그, css 를 작성할 수 있는 style 태그로 구분하여 작성한다.

html에 있는 요소들을 조각조각 나눈 것 처럼 보인다.

```html
<template>
  <div id="app">
    <h1>this is title</h1>
    <p>this is body</p>
  </div>
</template>

<script>
  export default {
    name: 'App',
  }
</script>

<style>
  #app {
    width: 100%;
    height: 100%;
    background: skyblue;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  h1 {
    color: white;
    font-size: 5rem;
  }

  p {
    color: lightgrey;
    font-size: 2rem;
  }
</style>
```

react에 익숙한 사람이라면 위에서 아래로 코드를 살펴보는 것이 익숙할 것이다. 또한 기본적으로 절차적 프로그래밍이기에 위에서 아래로 코드 흐름을 파악하는 것이 대부분 사람들에게 익숙할 것이다. 엘리먼트의 속성값들은 리터럴이 아닌 변수들로 구성된 것들은 대부분 위쪽에서 선언했거나 인자로 참조한 형태로 작성된다. 변수로 참조된 건 모두 '{}' 중괄호 하나로 감싸 일관성이 있게 작성할 수 있다.

```jsx
TodoItem.propTypes = {
  text: PropTypes.string,
  id: PropTypes.string,
  onDeleteTodoItem: PropTypes.function,
}

export default function TodoItem({ text, id, onDeleteTodoItem }) {
  return (
    <li id={id} class="todo-item">
      <p class="todo-item-text">{text}</p>
      <button class="btn-delete-todo-item" onClick={() => onDeleteTodoItem(id)}>
        삭제
      </button>
    </li>
  )
}
```

하지만 vue의 경우 아래에서 위로 코드를 살펴봐야 한다. **코드 흐름에 역행**하기에 보기가 조금 불편하다. 그리고 변수 사용이 일관적이지 않다. 제일 좋지 않다고 생각했던 부분이다. 앞에 `:`나 `@`가 있나 없나에 따라 따옴표("")에 들어있는 값이 변수 혹은 문자열이 된다. **한눈에 변수라고 인식하기 어렵다.** 그리고 함수는 `@`, 그 외 변수는 `:` 기호를 써야 한다. 게다가 `textContent`는 중괄호를 두번 감싸야한다.

또 마치 즉시 실행할 것처럼 보이는 `@click="onDeleteTodoItem(id)` 코드가 위에 react 예시와 같은 `()=>onDeleteTodoItem(id)`와 같은 것이라는 점도 혼란스럽다.

```html
<template>
  <li :id="id" class="todo-item">
    <p class="todo-item-text">{{text}}</p>
    <button class="btn-delete-todo-item" @click="onDeleteTodoItem(id)">
      삭제
    </button>
  </li>
</template>

<script>
  export default {
    props: {
      text: String,
      id: String,
    },
    methods: {
      onDeleteTodoItem(todoItemId) {
        this.$emit('delete', todoItemId)
      },
    },
  }
</script>
```

그럼에도 vue가 react보다 좋다고 생각했던 부분은 테스트하기 용이한 구조라는 점이다. 모듈 자체가 객체 형태로 되어있어 렌더링 과정을 신경쓰지 않고 각각의 기능들을 테스트하기 쉽다. 그저 객체의 메소드에 접근해서 메소드가 원하는 값을 반환하거나 변형을 가하는지 체크하면 된다.

그리고 개발자들이 많이 다루는 부분을 미리 기능으로 제공해준다. 가령 `keep-alive`태그를 감싸 state를 유지하고 `transition` 태그로 진입/진출 트랜지션 이벤트를 쉽게 작성할 수 있다. 대신 암기해야할 것들이 많아진다.

아직 깊게 파고들지 않았기 때문에 내가 모르는 vue의 매력들이 더 존재할 것이라 생각한다. 알게 될 때마다 블로그에 정리해두자.
