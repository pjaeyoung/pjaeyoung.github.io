---
title: '20210527'
date: 2021-05-27 22:05:71
category: TIL
thumbnail: { thumbnailSrc }
draft: false
---

## React Native에서 SVG 테스트

react native에서 곧바로 svg 파일을 들고와 적용하는 방법(A)이 통하지 않아서 직접 Svg 태그를 구성해서 컴포넌트(B)로 만들기로 확정함

```
// A 방식
import Sample from '@/assets/images/sample.svg';

<Sample width="100" height="150">

```

왜인지 Svg에서 직접 scale 이나 translate 가 먹히지 않는다. 그래서 View로 한 번 더 감싼 후 처리해야 한다.

```
// B 방식
import Svg, { Path } from 'react-native-svg';

<View style={{ transform: [{ scale: 2 }, { translateX: 100 }] }}>
     <Svg width="104" height="105" viewBox="0 0 104 105" fill="none">
          <Path
            d="M101.5 54.5C101.5 80.8399 76.6874 102.5 50 102.5C23.4903 102.5 2 81.0097 2 54.5C2 41.5924 11.0337 28.4833 23.8744 18.4719C36.6771 8.49016 52.7562 2 66 2C79.0092 2 87.7665 8.26489 93.377 17.901C99.0541 27.6515 101.5 40.8804 101.5 54.5Z"
            fill="white"
            stroke="blue"
            stroke-width="4"
          />
      </Svg>
</View>

```

## 배포에 대한 고민

Native언어로 작성한 코드를 React Native Module로 변환하기가 워낙 까다로웠다. 가령 Native에서 Service 를 import 시켰던 것이 React Native Module에서는 HeadlessJsTaskService 라는 걸로 적용해야 하며 Activity 대신 ReactContext로 바꿔서 생각해야 하니 다시 코드를 짜야 할 판이다. 이미 존재하는 background service 코드를 테스트해보려 했으나 java를 kotlin으로 변경하는 과정에서 에러가 많이 나고 코드도 복잡해서, 익숙하지 않은 언어로 만들기엔 시간이 턱없이 부족할 것이라 판단이 된다. 그래서 이번주 까지 완성하기로 한 백그라운드에서 스샷 감지 후 앱 여는 라이브러리는 우선 뒤로 미루기로 결정했다. 일단 성능은 무시하고 배포 후 업데이트로 보완하는 방향으로 결정내렸다.
