---
title: '20210802'
date: 2021-08-02 23:08:78
category: til
thumbnail: { thumbnailSrc }
draft: false
---

## 커리어리 습관 챌린지

- 둘 째주 첫 글은 디버깅에 대한 오해와 올바른 사용법에 대한 내용이다.
- 해당 내용은 <커리어 스킬> 책에서 발췌했다.
- 핵심 문장은 바로 "디버깅을 할 때 디버거를 쓰지 말라" 이다.
- 오류가 발생했을 때 앞뒤 맥락없이 무조건 디버거를 쓰는 사람? 바로 나!
- 목적도 없이 디버거로 코드 한줄 한줄 따라가며 값의 변화를 추적하다 우연히 잘못된 부분을 찾는다면 다행이다.
- 그런데 간헐적으로 발생하는 오류라면 이 방식은 매우 비효율적이다.
- 그리고 문제의 원인과 결과 그리고 해결을 명확히 하지 못해 추후에도 비슷한 오류가 생기면 이전에 했던 방식을 반복할 것이다.
- 그래서 디버거를 쓰는 대신 논리적으로 가설을 세우고 가설을 검증하기 위한 테스트를 진행할 것을 권장한다.
- 디버거는 최후의 보류로 남겨야 한다!

## Jest 공부

- Q. 모킹이 무엇인가?
  - 불확실성과 변동성이 존재하는 외부 환경(Network, I/O)을 통제하고 고차함수의 내부 로직을 단순화하여 테스트하기 용이하게 만들어주기 위해 실제 객체인척하는 가짜 객체를 바꿔치기하는 매커니즘을 제공한다.
  - 가짜 객체는 내부 구현을 삭제하고 호출 순간을 캡처하여 호출 횟수나 호출시 넘겨준 인자값을 확인할 수 있고 반환값을 지정할 수 있다. 간단히 말하면 내부 구현은 무시한 채 입력과 출력에만 신경을 쓴다.
- Q. Jest.fn 과 jest.spyOn 과 jest.mock의 차이?
  - jest.fn은 가짜 함수
  - jest.spyOn은 내부 구현은 그대로 두고 실제 객체의 호출여부를 추적할 수 있게 도와준다.
  - jest.mock은 모듈이 가진 모든 함수들을 가짜 함수로 대체한다. 테스트 코드에서 모듈을 모킹하는 방법과 `__mock__` 폴더에 모듈명과 동일한 이름의 파일을 생성하여 쓰는 방법이 있다.
