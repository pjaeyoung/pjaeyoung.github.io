---
title: '20210924'
date: 2021-09-26 17:09:53
category: til
thumbnail: { thumbnailSrc }
draft: false
---

## Work

- 사내 UI 라이브러리 개발 중 글의 양과 너비에 따라 줄바꿈이 되는 카드형식을 만들 때 꽤나 머리가 아팠다. 이런 저런 시도 끝에 알 게 된 사실을 정리하자면 이렇다. 크기 변화가 없는 부분은 정확한 높이, 너비 값을 부여한다. 유동적으로 변하는 부분은 `flex shrink basis grow` 를 활용한다. 그리고 부분과 부분의 간격은 유동적으로 변하는 부분에 `padding` 혹은 `margin`으로 제어한다. 그래야 화면 크기에 상관없이 일정한 간격으로 보여준다. 다른 컴포넌트를 개발할 때 `space-between`으로 했더니 전체 높이의 변화에 따라 각 부분들이 가깝다가 멀어지는 게 보였다 ㅜㅜ
- UI를 만들 때 테스트 코드를 작성한다. 테스트 라이브러리로 "React Testing Library"를 쓴다. 화면에 그려지는 것들을 기준으로 테스트를 하기 때문에 주로 text로 엘리먼트를 검색한다. text로 찾기 어려운 건 testId를 부여해서 찾는다. 겉 동작만 테스트하기 때문에 내부 구현에 신경쓰지 않는다. 그래서 한 번 짜둔 테스트 코드가 깨지는 일이 드물다는 장점이 있다. 컴포넌트 안에 여러 컴포넌트들이 조합했을 경우 어떻게 테스트할까? 내부 컴포넌트가 테스트 코드를 같이 작성했고 통과가 제대로 되었다면 그저 내부 컴포넌트에 필요한 props를 상위 컴포넌트가 잘 넘겨주었는지만 확인하면 된다고 생각했다. 그런데 이 방식은 "React Testing Library"가 지향하는 테스트 방향과 다르다. props, state를 테스트하는 건 내부 구현을 테스트하는 것이고 깨지기 쉬운 테스트 코드이기 때문이다. 이부분은 "React Testing Library"와 Frontend Test Code 작성에 대한 충분한 리서치, 공부가 필요하다.
- 다른 팀의 팀장님으로부터 다른 App Identifier로 배포 자동화를 해줬으면 좋겠다는 요청을 받았다. 생각을 안 해본 요구사항이라 당황했다. 덕분에fastlane으로 한 프로젝트 내에서 다른 App Idenfifier로 배포가 가능할까? fastlane은 어떻게 특정 App Identifier로 배포를 하는 거지? 덕분에 꼬리 질문을 스스로 하게 되었고 fastlane의 동작 원리를 좀 더 이해할 수 있는 계기가 되었다. `Info.plist`와 같은 프로젝트 내 App Identifier에 대한 정보를 수정해야 하고(직접 일일이 파일을 찾아서 수정하는 번거러움 없이 다행히도 이부분은 fastlane이 제공해주는 기능을 쓰면 손쉽게 할 수 있다!!) Appfile에 쓰고자 하는 App Identifier들을 배열 형태로 넣어주면 된다 ㅎ.ㅎ
- 브랜치 전략, 출시 관리에 대해 크게 신경을 쓰지 않았는데 팀장님께서 이부분을 문서화로 정리해 달라며 주의를 줬다. 덕분에 다른 팀의 팀장님과 커뮤니케이션이 어긋났던 부분을 발견하게 되었다. 다음주에 정확히 어떤 식으로 출시를 하길 원하는 지 확인 받아야겠다.
