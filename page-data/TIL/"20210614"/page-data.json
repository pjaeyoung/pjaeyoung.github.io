{"componentChunkName":"component---src-templates-blog-post-js","path":"/TIL/\"20210614\"/","result":{"data":{"site":{"siteMetadata":{"title":"DODO's DEV LOG","author":"dodo","siteUrl":"https://pjaeyoung.github.io","comment":{"disqusShortName":"dodo","utterances":"pjaeyoung/dodo-blog"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"e49bf78a-6073-5cc6-a023-fbb655606a37","excerpt":"스캡 프로젝트 오늘 되게 진도가 안 나갔다 😂 역시나 react native는 css 처리가 정말 어렵다 ㅠㅠ 생성버튼 클릭할 때 키보드 뒷편 화면은 스크롤 가능한 상태로 바뀌는 기능과 플로팅 버튼의 fixed(고정) 위치 에서 애를 먹었다. 이 두가지를 동시에 작업하면서 어쩌다보니 제대로 동작한 결과물에 대해 설명하자면 아래와 같다.  엘리먼트 안에 들어갈 item…","html":"<h2 id=\"스캡-프로젝트\" style=\"position:relative;\"><a href=\"#%EC%8A%A4%EC%BA%A1-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8\" aria-label=\"스캡 프로젝트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>스캡 프로젝트</h2>\n<ul>\n<li>오늘 되게 진도가 안 나갔다 😂 역시나 react native는 css 처리가 정말 어렵다 ㅠㅠ</li>\n<li>생성버튼 클릭할 때 <strong>키보드 뒷편 화면은 스크롤 가능한 상태</strong>로 바뀌는 기능과 <strong>플로팅 버튼의 fixed(고정) 위치</strong> 에서 애를 먹었다. 이 두가지를 동시에 작업하면서 어쩌다보니 제대로 동작한 결과물에 대해 설명하자면 아래와 같다.</li>\n<li><code class=\"language-text\">ScrollView</code> 엘리먼트 안에 들어갈 item(여기선 폴더 이미지)이 적어도 스크린 화면을 넘어서야만 스크롤이 가능한 상태로 변한다. 폴더 이미지가 스크린 화면 밖으로 나갈 일이 없으니 스크롤이 불가능했다. 그래서 꼼수를 사용했다. 오직 스크롤 기능을 쓰기 위한 <code class=\"language-text\">View</code> 엘리먼트를 같이 렌더링한다. 이 엘리먼트는 스크린 화면 높이보다 크게 잡았다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// 스크롤</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ScrollView</span></span> <span class=\"token spread\"><span class=\"token punctuation\">{</span><span class=\"token punctuation\">...</span><span class=\"token attr-value\">panHandlers</span><span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">keyboardShouldPersistTaps</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>always<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token punctuation\">{</span>editMode <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">TextInput</span></span>\n        <span class=\"token attr-name\">autoFocus</span>\n        <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>inputRef<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n          height<span class=\"token operator\">:</span> <span class=\"token number\">150</span><span class=\"token punctuation\">,</span>\n          width<span class=\"token operator\">:</span> <span class=\"token number\">150</span><span class=\"token punctuation\">,</span>\n          borderColor<span class=\"token operator\">:</span> <span class=\"token string\">'blue'</span><span class=\"token punctuation\">,</span>\n          borderWidth<span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n          borderRadius<span class=\"token operator\">:</span> <span class=\"token number\">150</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">returnKeyType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>done<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">blurOnSubmit</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">onSubmitEditing</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          <span class=\"token function\">setEditMode</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      // 오로지 스크롤을 기능을 사용하기 위한 엘리먼트\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">View</span></span>\n        <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> width<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">:</span> Dimensions<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'screen'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>height <span class=\"token operator\">*</span> <span class=\"token number\">1.5</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">View</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">ScrollView</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<ul>\n<li>react native에서 <code class=\"language-text\">fixed position</code> 이 없다. 처음에 <code class=\"language-text\">renderScrollable</code> 안에 넣었는데 폴더 이미지 개수에 따라 위치가 계속 어긋나는 현상이 나타났다. 그래서 <code class=\"language-text\">KeyboardAccessoryView</code> 와 형제 엘리먼트로 옮겼다. 문제는 키보드가 올라갈 때 따라 올라가는 현상이 생겼다. 그래서 <strong>키보드가 활성화인 상태와 비활성화 상태에 따라 다르게 위치를 잡도록 css 처리</strong>를 했다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> FolderScreen<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">FC</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>editMode<span class=\"token punctuation\">,</span> setEditMode<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token generic-function\"><span class=\"token function\">useState</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token builtin\">boolean</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">/**/</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">View</span></span>\n      <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n        flex<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      // 1. 형제 엘리먼트로 옮기고\n      // 2. editMode(키보드 활성화 여부/수정모드) 에 따라 위치 조정을 한다\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">FAB</span></span>\n        <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">[</span>\n          editMode\n            <span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span> bottom<span class=\"token operator\">:</span> <span class=\"token string\">'50%'</span><span class=\"token punctuation\">,</span> left<span class=\"token operator\">:</span> <span class=\"token string\">'45%'</span> <span class=\"token punctuation\">}</span>\n            <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                left<span class=\"token operator\">:</span> Dimensions<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'screen'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>width <span class=\"token operator\">*</span> <span class=\"token number\">0.5</span> <span class=\"token operator\">-</span> <span class=\"token number\">57</span> <span class=\"token operator\">*</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span>\n                bottom<span class=\"token operator\">:</span> Dimensions<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'screen'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>height <span class=\"token operator\">*</span> <span class=\"token number\">0.5</span> <span class=\"token operator\">-</span> <span class=\"token number\">57</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span><span class=\"token comment\">/**/</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">KeyboardAccessoryView</span></span> <span class=\"token attr-name\">renderScrollable</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">renderScrollable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> editMode<span class=\"token punctuation\">,</span> setEditMode <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span><span class=\"token comment\">/**/</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">KeyboardAccessoryView</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">View</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<ul>\n<li>아직 남아있는 문제는 키보드 활성화 혹은 수정모드 전환할 때마다 뚝뚝 끊김, 잔상이 보인다는 점이다.</li>\n<li>그리고 키보드 취소/숨김 버튼을 누를 때 고정시키기 위해 <code class=\"language-text\">Keyboard</code> 의 <code class=\"language-text\">keyboardDidHide</code> 이벤트에서 다시 <code class=\"language-text\">input</code> 창을 <code class=\"language-text\">focus</code> 하도록 해서 키보드가 계속 열리도록 했다. 문제는 input창이 focus 상태이기 때문에 blur 처리 후 focus를 해야 키보드가 열린다. 그 과정에서 아래처럼 버벅거림이 발생한다. 이부분은 사용자가 완료 버튼을 주로 누를 거라는 예상하에 큰 문제는 아니라 일단은 넘어가기로 한다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> inputRef <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useRef</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> React<span class=\"token punctuation\">.</span>RefObject<span class=\"token operator\">&lt;</span>TextInput<span class=\"token operator\">></span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">openKeyboard</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  inputRef<span class=\"token punctuation\">.</span>current<span class=\"token operator\">?.</span><span class=\"token function\">blur</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// focus 상태를 한 번 풀어주고</span>\n  inputRef<span class=\"token punctuation\">.</span>current<span class=\"token operator\">?.</span><span class=\"token function\">focus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 다시 focus를 해야 키보드가 올라온다</span>\n<span class=\"token punctuation\">}</span>\n\nReact<span class=\"token punctuation\">.</span><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  Keyboard<span class=\"token punctuation\">.</span><span class=\"token function\">addListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'keyboardDidHide'</span><span class=\"token punctuation\">,</span> openKeyboard<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    Keyboard<span class=\"token punctuation\">.</span><span class=\"token function\">removeListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'keyboardDidHide'</span><span class=\"token punctuation\">,</span> openKeyboard<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"얄코-유튜브-ci-cd\" style=\"position:relative;\"><a href=\"#%EC%96%84%EC%BD%94-%EC%9C%A0%ED%8A%9C%EB%B8%8C-ci-cd\" aria-label=\"얄코 유튜브 ci cd permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>얄코 유튜브 CI CD</h2>\n<p>면접 대비 겸 개발 상식을 쌓으려고 얄코 유튜브 영상을 보고 요약 정리한다.\nCI는 지속적 통합이다. 개발은 주로 팀단위로 이뤄지고 git 버전 컨트롤 시스템으로 각자의 코드를 올리고 예상치 못한 결함이 없는지 테스트하고 충돌 여부를 체크한 후 정상적이면 통합하는 데 이 과정을 코드가 완성될 때마다 지속함을 의미한다. CD는 지속적 배포로,정상적으로 코드가 통합될 때마다(CI) 사용자가 사용할 수 있는 형태의 산출함을 의미한다. 대표적인 CI/CD 자동화 도구 툴로 설치형 젠킨스, 클라우드 서비스형 TravicCI, 깃헙 저장소의 GitActions 가 있다.</p>","frontmatter":{"title":"20210614","date":"June 14, 2021"}}},"pageContext":{"slug":"/TIL/\"20210614\"/","previous":{"fields":{"slug":"/TIL/\"20210611\"/"},"frontmatter":{"title":"20210611","category":"TIL","draft":false}},"next":null}},"staticQueryHashes":["3128451518","521680639"]}