{"componentChunkName":"component---src-templates-blog-post-js","path":"/sccap/\"20210604\"/","result":{"data":{"site":{"siteMetadata":{"title":"DODO's DEV LOG","author":"dodo","siteUrl":"https://pjaeyoung.github.io","comment":{"disqusShortName":"dodo","utterances":"pjaeyoung/dodo-blog"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"27ea889a-d1dd-56bb-84f4-6efce75fa97c","excerpt":"SORT 화면에 레이아웃 배치 완성 폴더명의 길이가 긴 경우 예외처리에 대한 논의가 필요하다 고정된 레이아웃을 가진 기본폴더/공유폴더/휴지통폴더는 금방 끝났는데, 유저가 생성한 폴더는 개수 변동이 생길 때마다 달라지는 레이아웃을 가지고 있어 다루기가 힘들었다. HOC과 Composition을 사용하다보니 깊이 들어있는 자식 컴포넌트(폴더명)의 레이아웃을 폴더 정중앙에 위치시키는 게 힘들었다. 엉뚱한 데다가 style…","html":"<ul>\n<li>SORT 화면에 레이아웃 배치 완성</li>\n<li><strong>폴더명의 길이가 긴 경우 예외처리</strong>에 대한 논의가 필요하다</li>\n<li>고정된 레이아웃을 가진 기본폴더/공유폴더/휴지통폴더는 금방 끝났는데, 유저가 생성한 폴더는 개수 변동이 생길 때마다 달라지는 레이아웃을 가지고 있어 다루기가 힘들었다.</li>\n<li>HOC과 Composition을 사용하다보니 깊이 들어있는 자식 컴포넌트(폴더명)의 레이아웃을 폴더 정중앙에 위치시키는 게 힘들었다. 엉뚱한 데다가 style 적용하고 있는 걸 알고 최종적으로 제일 하위 컴포넌트인 <code class=\"language-text\">FolderSvg</code> 컴포넌트에 <code class=\"language-text\">flexbox</code> 정렬 property(<code class=\"language-text\">justifyContent</code>, <code class=\"language-text\">alignItems</code>)를 사용해서 해결했다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">/* FolderSvg */</span>\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> View <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-native'</span>\n<span class=\"token keyword\">import</span> Svg<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Path <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-native-svg'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> IFolderSvgProps <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@/shared/types'</span>\n\n<span class=\"token keyword\">const</span> FolderSvg<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span><span class=\"token constant\">FC</span><span class=\"token operator\">&lt;</span>IFolderSvgProps<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  width<span class=\"token punctuation\">,</span>\n  height<span class=\"token punctuation\">,</span>\n  svgStyle<span class=\"token punctuation\">,</span>\n  bg_d<span class=\"token punctuation\">,</span>\n  border_d<span class=\"token punctuation\">,</span>\n  borderColor<span class=\"token punctuation\">,</span>\n  borderDashed <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  children<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token comment\">// Svg 컴포넌트와 Text 혹은 Icon 컴포넌트 배치를 중앙으로 옮기기 위한 설정</span>\n    <span class=\"token operator\">&lt;</span>View\n      style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">[</span>svgStyle<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> justifyContent<span class=\"token operator\">:</span> <span class=\"token string\">'center'</span><span class=\"token punctuation\">,</span> alignItems<span class=\"token operator\">:</span> <span class=\"token string\">'center'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Svg\n        width<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>width<span class=\"token punctuation\">}</span>\n        height<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>height<span class=\"token punctuation\">}</span>\n        viewBox<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">0 0 </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>width<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>height<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span>\n        fill<span class=\"token operator\">=</span><span class=\"token string\">\"none\"</span>\n      <span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Path d<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>bg_d<span class=\"token punctuation\">}</span> fill<span class=\"token operator\">=</span><span class=\"token string\">\"white\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Path\n          d<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>border_d<span class=\"token punctuation\">}</span>\n          stroke<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>borderColor<span class=\"token punctuation\">}</span>\n          strokeDasharray<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>borderDashed <span class=\"token operator\">?</span> <span class=\"token number\">8</span> <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">}</span>\n          strokeLinecap<span class=\"token operator\">=</span><span class=\"token string\">\"round\"</span>\n          strokeWidth<span class=\"token operator\">=</span><span class=\"token string\">\"4\"</span>\n        <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Svg<span class=\"token operator\">></span>\n      <span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span> <span class=\"token comment\">// Text 컴포넌트 혹은 Icon 컴포넌트가 들어갈 자리</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>View<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> FolderSvg</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">/* FolderSvgs.tsx */</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Text <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-native'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> FolderSvg <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@/shared/components'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> folderSvgsData <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@/shared/constants'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> userFolderLayoutData <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../constants/folderLayoutData.ts'</span>\n<span class=\"token keyword\">import</span> withScaleAnimatedDropzone <span class=\"token keyword\">from</span> <span class=\"token string\">'./withScaleAnimatedDropzone'</span>\n\n<span class=\"token comment\">// 아래 코드가 render 호출할 때 반복 실행되면 성능에 좋지 않음</span>\n<span class=\"token comment\">// 폴더 Svg 데이터를 바탕으로 겹침시 크기 변환 애니메이션이 실행되는 FolderSvg 생성</span>\n<span class=\"token keyword\">const</span> Components <span class=\"token operator\">=</span> folderSvgsData<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>props <span class=\"token operator\">=></span>\n  <span class=\"token function\">withScaleAnimatedDropzone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> Component<span class=\"token operator\">:</span> FolderSvg<span class=\"token punctuation\">,</span> props<span class=\"token punctuation\">,</span> maxScale<span class=\"token operator\">:</span> <span class=\"token number\">1.5</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// 유저가 만든 폴더 개수만큼 위에 만들어놓은 컴포넌트에 폴더명 컴포넌트(Text) 결합하기</span>\n<span class=\"token keyword\">const</span> FolderSvgs<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">FC</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> userFolders <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n      <span class=\"token punctuation\">{</span>userFolders<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> id<span class=\"token punctuation\">,</span> name <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> Component <span class=\"token operator\">=</span> Components<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n          <span class=\"token operator\">&lt;</span>Component key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>index<span class=\"token punctuation\">}</span> style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>userFolderLayoutData<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Text\n              style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n                flex<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n                fontSize<span class=\"token operator\">:</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span>\n                position<span class=\"token operator\">:</span> <span class=\"token string\">'absolute'</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n            <span class=\"token operator\">></span>\n              <span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Text<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Component<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> FolderSvgs</code></pre></div>","frontmatter":{"title":"20210604","date":"June 04, 2021"}}},"pageContext":{"slug":"/sccap/\"20210604\"/","previous":{"fields":{"slug":"/sccap/\"20210603\"/"},"frontmatter":{"title":"20210603","category":"TIL","draft":false}},"next":{"fields":{"slug":"/sccap/\"20210607\"/"},"frontmatter":{"title":"20210607","category":"TIL","draft":false}}}},"staticQueryHashes":["3128451518","521680639"]}