{"componentChunkName":"component---src-templates-blog-post-js","path":"/til/\"20210720\"/","result":{"data":{"site":{"siteMetadata":{"title":"DODO's DEV LOG","author":"dodo","siteUrl":"https://pjaeyoung.github.io","comment":{"disqusShortName":"dodo","utterances":"pjaeyoung/dodo-blog"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"e8f4f0dd-9b4d-5d3c-9bbe-bb41a3f7d920","excerpt":"코딩테스트 준비 자료구조 힙(heap)을 알게 되었다. 힙은 우선순위 큐를 구현을 위한 이진트리다.\n큐는 처음에 들어온 값이 먼저 나가는 구조지만 우선순위 큐는 우선순위가 높은 순으로 먼저 나간다.\n힙은 최대힙과 최소힙 두 종류로 나뉜다. 최대힙은 부모노드가 자식노드보다 크거나 같은 값을 가지는 형태고\n최소힙은 부모노드가 자식노드보다 작거나 큰 값을 가진 형태다.\n힙은 배열을 이용하여 구현한다. 값 비교를 용이하게 하기 위해 0번째는 null로 처리하고…","html":"<h2 id=\"코딩테스트-준비\" style=\"position:relative;\"><a href=\"#%EC%BD%94%EB%94%A9%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%A4%80%EB%B9%84\" aria-label=\"코딩테스트 준비 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>코딩테스트 준비</h2>\n<p>자료구조 힙(heap)을 알게 되었다. 힙은 우선순위 큐를 구현을 위한 이진트리다.\n큐는 처음에 들어온 값이 먼저 나가는 구조지만 우선순위 큐는 우선순위가 높은 순으로 먼저 나간다.\n힙은 최대힙과 최소힙 두 종류로 나뉜다. 최대힙은 부모노드가 자식노드보다 크거나 같은 값을 가지는 형태고\n최소힙은 부모노드가 자식노드보다 작거나 큰 값을 가진 형태다.\n힙은 배열을 이용하여 구현한다. 값 비교를 용이하게 하기 위해 0번째는 null로 처리하고 1번째 부터 값을 추가하는 것이 일반적이다.\n1부터 차례대로 부모, 자식노드 위치를 매기면 다음과 같은 규칙이 나온다.</p>\n<blockquote>\n<p>부모 노드 : Math.floor(index/2)<br>\n왼쪽 자식 노드 : index * 2<br>\n오른쪽 자식 노드 : index * 2 + 1</p>\n</blockquote>\n<p>최대힙을 자바스크립트로 구현하면 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">MaxHeap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 0번째는 null을 추가한다. 실제로 값 비교는 1번째부터 진행된다.</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">]</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getParentNodeIndex</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">index</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>index <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getParentNode</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">index</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">[</span><span class=\"token function\">getParentNodeIndex</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function-variable function\">insert</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">value</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 제일 마지막에 값을 추가한다.</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// 트리 순회를 거슬러 올라가기 위한 index</span>\n    <span class=\"token comment\">// 방금 삽입한 값의 위치(제일 마지막 위치)를 최초로 할당한다.</span>\n    <span class=\"token keyword\">let</span> index <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n    <span class=\"token comment\">// index가 최상위 부모노드가 아니고 삽입한 value가 부모 노드보다 클 경우에만 순회한다</span>\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>index <span class=\"token operator\">></span> <span class=\"token number\">1</span> <span class=\"token operator\">&amp;&amp;</span> value <span class=\"token operator\">></span> <span class=\"token function\">getParentNode</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 부모노드와 자식노드의 값을 swap한다.</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">getParentNode</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">[</span><span class=\"token function\">getParentNodeIndex</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> value\n      index <span class=\"token operator\">=</span> <span class=\"token function\">getParentNodeIndex</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// null이 들어있는 0번째 요소를 제외한 실제 값들이 들어있는 부분만 반환한다.</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function-variable function\">print</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heap<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"스캡-프로젝트-다듬기-위한-준비\" style=\"position:relative;\"><a href=\"#%EC%8A%A4%EC%BA%A1-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EB%8B%A4%EB%93%AC%EA%B8%B0-%EC%9C%84%ED%95%9C-%EC%A4%80%EB%B9%84\" aria-label=\"스캡 프로젝트 다듬기 위한 준비 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>스캡 프로젝트 다듬기 위한 준비</h2>\n<p>redux 에서 createAsyncThunk 문서를 천천히 읽으면서 사용법을 제대로 익히려고 노력하는 중이다.\n프로젝트 중에 미쳐 보지 못하고 넘어간 개념들을 나열하면 이렇다.</p>\n<ul>\n<li>createAsyncThunk를 생성했다고 곧바로 store에서 관리하지 않는다. extraReducer에 직접 state별로(fulfilled, pending, rejected) state를 어떻게 처리할 지 정의해줘야 한다.</li>\n<li>typescript를 쓴다면 extraReducer에 작성할 때 builder를 쓰길 권장한다. ( 스캡에는 그렇게 안 쓰고 key-value 형태로 작성했다. 어쩐지 key값에서 타입에러가 나더라.)</li>\n<li>비동기 dispatch할 때 fulfilled 든 rejected든 then으로 결과를 전달한다. 만약 rejected 결과는 catch문으로 전달하고 싶다면 then 처리 전에 unwrap 메서드를 실행하면 된다.</li>\n<li>rejectWithValue의 쓰임새를 잘 몰라서 여러 번 읽어 겨우 이해했다. 비동기 처리 말고 그 사이에 일어나는 동기처리에서 오류가 발생하는 케이스 또한 reject로 분류하고 싶을 때 쓴다. 특이한 점은 rejectWithValue에 담은 값은 action.payload에 들어간다. 직접 reject하지 않은 오류는 action.error에 들어있다.\n그래서 아래처럼 분기 처리가 필요하다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"> <span class=\"token function-variable function\">extraReducers</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>builder<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    builder\n      <span class=\"token punctuation\">.</span><span class=\"token function\">addCase</span><span class=\"token punctuation\">(</span>fetchUserById<span class=\"token punctuation\">.</span>pending<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        state<span class=\"token punctuation\">.</span>loading <span class=\"token operator\">=</span> <span class=\"token constant\">LOADING</span><span class=\"token punctuation\">.</span><span class=\"token constant\">PENDING</span><span class=\"token punctuation\">;</span>\n        state<span class=\"token punctuation\">.</span>error <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n        state<span class=\"token punctuation\">.</span>entity <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">addCase</span><span class=\"token punctuation\">(</span>fetchUserById<span class=\"token punctuation\">.</span>fulfilled<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">,</span> action<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        state<span class=\"token punctuation\">.</span>loading <span class=\"token operator\">=</span> <span class=\"token constant\">LOADING</span><span class=\"token punctuation\">.</span><span class=\"token constant\">SUCCESS</span><span class=\"token punctuation\">;</span>\n        state<span class=\"token punctuation\">.</span>entity <span class=\"token operator\">=</span> action<span class=\"token punctuation\">.</span>payload<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">addCase</span><span class=\"token punctuation\">(</span>fetchUserById<span class=\"token punctuation\">.</span>rejected<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">,</span> action<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        state<span class=\"token punctuation\">.</span>loading <span class=\"token operator\">=</span> <span class=\"token constant\">LOADING</span><span class=\"token punctuation\">.</span><span class=\"token constant\">FAIL</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// rejectWithValue를 통해 값이 들어왔을 경우</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>action<span class=\"token punctuation\">.</span>payload<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          state<span class=\"token punctuation\">.</span>error <span class=\"token operator\">=</span> action<span class=\"token punctuation\">.</span>payload<span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token comment\">// 그 외의 경우</span>\n        state<span class=\"token punctuation\">.</span>error <span class=\"token operator\">=</span> action<span class=\"token punctuation\">.</span>error<span class=\"token operator\">?.</span>message <span class=\"token operator\">??</span> <span class=\"token string\">\"유저 정보 요청 실패\"</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<h2 id=\"면접-준비\" style=\"position:relative;\"><a href=\"#%EB%A9%B4%EC%A0%91-%EC%A4%80%EB%B9%84\" aria-label=\"면접 준비 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>면접 준비</h2>\n<p>Q. localStorage, sessionStorage, cookie에 대해 설명하시오.\n로그인 유무나 팝업창 일주일 간 닫기 여부, 추천 카테고리 등을 브라우저 차원에서 관리하는 데이터가 존재한다.\n이러한 데이터를 보관할 때 사용하는 것이 로컬스토리지와 세션스토리지와 같은 웹스토리지와 쿠키다. 세 방식 모두 키 - 값 형태로 데이터를 저장한다.\nHTML5 부터 도입된 웹스토리지 이전까지는 이 역할을 쿠키가 담당했었는데 쿠키는 4kb의 작은 용량에다 항상 HTTP의 헤더와 함께\n서버로 전송이 되어 서버에 불필요한 데이터까지 보내는 낭비가 일어난다. 웹스토리지는 쿠키와 달리 서버로 자동으로 전송되지 않고 5mb정도로\n쿠키보다 용량이 크다. 로컬스토리지와 세션스토리지의 차이는 영속성에 있다. 로컬스토리지는 사용자가 지우지 않는 한 계속 남아있는 반면 세션스토리지는\n브라우저 탭이 닫히면 데이터가 사라진다.</p>","frontmatter":{"title":"20210720","date":"July 20, 2021"}}},"pageContext":{"slug":"/til/\"20210720\"/","previous":{"fields":{"slug":"/challenge30/30/"},"frontmatter":{"title":"30","category":"challenge30","draft":false}},"next":{"fields":{"slug":"/til/\"20210721\"/"},"frontmatter":{"title":"20210721","category":"til","draft":false}}}},"staticQueryHashes":["3128451518","521680639"]}