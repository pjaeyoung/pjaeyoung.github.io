{"componentChunkName":"component---src-templates-blog-post-js","path":"/uiux/infinite-scroll/","result":{"data":{"site":{"siteMetadata":{"title":"DODO's DEV LOG","author":"dodo","siteUrl":"https://pjaeyoung.github.io","comment":{"disqusShortName":"dodo","utterances":"pjaeyoung/dodo-blog"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"e4153396-1154-5abe-9de2-7e172aa97d56","excerpt":"ê³µí†µìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ScrollList í´ë˜ìŠ¤ itemsë¼ëŠ” ë°°ì—´ì´ ì–´ë””ì—ì„œ(start) ì–´ë””ê¹Œì§€(end) ë Œë”ë§ì´ ë˜ì—ˆëŠ”ì§€ ê¸°ì–µí•˜ê³  ë Œë”ë§ ê°€ëŠ¥í•œ íšŸìˆ˜ë§Œí¼ ì½œë°±ì„ ì‹¤í–‰ì‹œí‚¤ëŠ” ê¸°ëŠ¥ì„ ê°–ì¶˜ í´ë˜ìŠ¤  items ë°ì´í„° í˜•íƒœì˜ ì œì•½ì´ ì—†ë„ë¡ ì™¸ë¶€ì—ì„œ  í•¨ìˆ˜ë¥¼ ë°›ë„ë¡ êµ¬í˜„í•¨    ë©”ì†Œë“œ : items ëª¨ë‘ ë Œë”ë§ë˜ì—ˆëŠ”ì§€ ì—¬ë¶€   ë©”ì†Œë“œ : í˜„ì¬ ë Œë”ë§ëœ items ì¤‘ ë§ˆì§€ë§‰ item ë°˜í™˜  ë©”ì†Œë“œ : items ê°œìˆ˜ê°€ ëª¨ë‘ ë Œë”ë§ë  ë•Œê¹Œì§€ ì¼ì • ê°œìˆ˜(perItem)ë§Œí¼ ë¡œë“œâ€¦","html":"<h1 style=\"border-bottom:0;\"> Infinite Scroll êµ¬í˜„ </h1>\n<h3 id=\"ê³µí†µìœ¼ë¡œ-ì‚¬ìš©ë˜ëŠ”-scrolllist-í´ë˜ìŠ¤\" style=\"position:relative;\"><a href=\"#%EA%B3%B5%ED%86%B5%EC%9C%BC%EB%A1%9C-%EC%82%AC%EC%9A%A9%EB%90%98%EB%8A%94-scrolllist-%ED%81%B4%EB%9E%98%EC%8A%A4\" aria-label=\"ê³µí†µìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” scrolllist í´ë˜ìŠ¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê³µí†µìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ScrollList í´ë˜ìŠ¤</h3>\n<ul>\n<li>itemsë¼ëŠ” ë°°ì—´ì´ ì–´ë””ì—ì„œ(start) ì–´ë””ê¹Œì§€(end) ë Œë”ë§ì´ ë˜ì—ˆëŠ”ì§€ ê¸°ì–µí•˜ê³  ë Œë”ë§ ê°€ëŠ¥í•œ íšŸìˆ˜ë§Œí¼ ì½œë°±ì„ ì‹¤í–‰ì‹œí‚¤ëŠ” ê¸°ëŠ¥ì„ ê°–ì¶˜ í´ë˜ìŠ¤ </li>\n<li>\n<p>items ë°ì´í„° í˜•íƒœì˜ ì œì•½ì´ ì—†ë„ë¡ ì™¸ë¶€ì—ì„œ <code class=\"language-text\">createElement</code> í•¨ìˆ˜ë¥¼ ë°›ë„ë¡ êµ¬í˜„í•¨ </p>\n<ul>\n<li><code class=\"language-text\">createElement(item:any):Node</code></li>\n</ul>\n</li>\n<li><code class=\"language-text\">isAllItemsRendered</code> ë©”ì†Œë“œ : items ëª¨ë‘ ë Œë”ë§ë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ </li>\n<li><code class=\"language-text\">getLastRenderedItem</code> ë©”ì†Œë“œ : í˜„ì¬ ë Œë”ë§ëœ items ì¤‘ ë§ˆì§€ë§‰ item ë°˜í™˜</li>\n<li><code class=\"language-text\">render</code> ë©”ì†Œë“œ : items ê°œìˆ˜ê°€ ëª¨ë‘ ë Œë”ë§ë  ë•Œê¹Œì§€ ì¼ì • ê°œìˆ˜(perItem)ë§Œí¼ ë¡œë“œ</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// ScrollList.js</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ScrollList</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> $target<span class=\"token punctuation\">,</span> items<span class=\"token punctuation\">,</span> renderPerItem<span class=\"token punctuation\">,</span> createElement <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isInvalidConstructorArgs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        $target<span class=\"token punctuation\">,</span>\n        items<span class=\"token punctuation\">,</span>\n        renderPerItem<span class=\"token punctuation\">,</span>\n        createElement<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span>ScrollList<span class=\"token punctuation\">.</span>messages<span class=\"token punctuation\">.</span>invalidConstructorArgs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$target <span class=\"token operator\">=</span> $target<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>items <span class=\"token operator\">=</span> items<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderPerItem <span class=\"token operator\">=</span> renderPerItem<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>createElement <span class=\"token operator\">=</span> createElement<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>currentLastIndex <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">isInvalidConstructorArgs</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> $target<span class=\"token punctuation\">,</span> items<span class=\"token punctuation\">,</span> renderPerItem<span class=\"token punctuation\">,</span> createElement <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">!</span><span class=\"token punctuation\">(</span>$target <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">HTMLElement</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span>\n      <span class=\"token operator\">!</span>Array<span class=\"token punctuation\">.</span><span class=\"token function\">isArray</span><span class=\"token punctuation\">(</span>items<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span>\n      <span class=\"token keyword\">typeof</span> renderPerItem <span class=\"token operator\">!==</span> <span class=\"token string\">\"number\"</span> <span class=\"token operator\">||</span>\n      <span class=\"token keyword\">typeof</span> createElement <span class=\"token operator\">!==</span> <span class=\"token string\">\"function\"</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">isAllItemsRendered</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>currentLastIndex <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token operator\">===</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">getLastRenderedItem</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$target<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">[</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>currentLastIndex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isAllItemsRendered</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> startIndex <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>currentLastIndex <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> endIndex <span class=\"token operator\">=</span> startIndex <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderPerItem<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span>startIndex<span class=\"token punctuation\">,</span> endIndex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">anItem</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$target<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span>anItem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>currentLastIndex<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\nScrollList<span class=\"token punctuation\">.</span>messages <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  invalidConstructorArgs<span class=\"token operator\">:</span> <span class=\"token string\">\"ì˜ëª»ëœ ì¸ìë¡œ ScrollList ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤.\"</span><span class=\"token punctuation\">,</span>\n  notNumberArg<span class=\"token operator\">:</span> <span class=\"token string\">\"ì¸ì íƒ€ì…ì´ ìˆ«ìê°€ ì•„ë‹™ë‹ˆë‹¤.\"</span><span class=\"token punctuation\">,</span>\n  lastIndexOverItemsCount<span class=\"token operator\">:</span> <span class=\"token string\">\"lastIndex ê°’ì´ items ê°œìˆ˜ë³´ë‹¤ í½ë‹ˆë‹¤.\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"1-ìŠ¤í¬ë¡¤-ìœ„ì¹˜-ê³„ì‚°í•˜ì—¬-êµ¬í˜„í•˜ëŠ”-ë°©ë²•\" style=\"position:relative;\"><a href=\"#1-%EC%8A%A4%ED%81%AC%EB%A1%A4-%EC%9C%84%EC%B9%98-%EA%B3%84%EC%82%B0%ED%95%98%EC%97%AC-%EA%B5%AC%ED%98%84%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95\" aria-label=\"1 ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ê³„ì‚°í•˜ì—¬ êµ¬í˜„í•˜ëŠ” ë°©ë²• permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ê³„ì‚°í•˜ì—¬ êµ¬í˜„í•˜ëŠ” ë°©ë²•</h3>\n<h4 id=\"-ì‚¬ì „-ì§€ì‹\" style=\"position:relative;\"><a href=\"#-%EC%82%AC%EC%A0%84-%EC%A7%80%EC%8B%9D\" aria-label=\" ì‚¬ì „ ì§€ì‹ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ“– ì‚¬ì „ ì§€ì‹</h4>\n<ul>\n<li><code class=\"language-text\">document.documentElement</code>ëŠ” <code class=\"language-text\">html</code>ì„ ê°€ë¦¬í‚´ </li>\n<li><code class=\"language-text\">html.scrollHeight</code>ì€ ìŠ¤í¬ë¡¤ì— ê°ì¶°ì§„ ì˜ì—­ì„ í¬í•¨í•œ ì „ì²´ ë†’ì´ ê°’ì„ ì˜ë¯¸í•¨</li>\n<li><code class=\"language-text\">window.innerHeight</code>ì€ ë¸Œë¼ìš°ì €ì˜ íƒ­/ì£¼ì†Œì…ë ¥/ë¶ë§ˆí¬ ë°”ë¥¼ ì œì™¸í•œ ë³´ì—¬ì§€ëŠ” ì˜ì—­ì„ ì˜ë¯¸í•¨.</li>\n<li><code class=\"language-text\">window.scrollY</code>ëŠ” ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ì˜ì—­ ì‚¬ì´ì— ìœ„ì¹˜í•œ ê°’ </li>\n<li>ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ì˜ì—­ì€ ë³„ë‹¤ë¥¸ ì—˜ë¦¬ë¨¼íŠ¸ íƒœê·¸ê°€ ì—†ë‹¤ë©´ ìŠ¤í¬ë¡¤ì— ê°ì¶°ì§„ ì˜ì—­, ì¦‰ <code class=\"language-text\">html.scrollHeight - window.innerHeight</code> ê°’</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/47022167/110747297-847b5780-8281-11eb-9302-c8a361d06b5f.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2021-03-11 15-50-06\"></p>\n<h4 id=\"ë™ì‘ì›ë¦¬\" style=\"position:relative;\"><a href=\"#%EB%8F%99%EC%9E%91%EC%9B%90%EB%A6%AC\" aria-label=\"ë™ì‘ì›ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë™ì‘ì›ë¦¬</h4>\n<ul>\n<li>scroll handleì˜ bottomì˜ ìœ„ì¹˜ê°€ ê°ì¶°ì§„ ì˜ì—­ì˜ bottom ìœ„ì¹˜ê¹Œì§€ ë„ë‹¬í•˜ë©´ ê°ì¶°ì§„ ì˜ì—­ì€ 0ê°€ ëœë‹¤.\n<img src=\"https://user-images.githubusercontent.com/47022167/110748237-cb1d8180-8282-11eb-8718-bcf1e7fac043.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2021-03-11 15-58-32\"></li>\n<li>ì´ ë•Œ ìƒˆë¡œìš´ ì—˜ë¦¬ë¨¼íŠ¸ë“¤ì„ ì¶”ê°€í•˜ì—¬ ê°ì¶°ì§„ ì˜ì—­ í¬ê¸°ë¥¼ ë§Œë“¤ì–´ ê³„ì† ìŠ¤í¬ë¡¤í•  ìˆ˜ ìˆê²Œ ëœë‹¤. <br/>\n<img src=\"https://user-images.githubusercontent.com/47022167/110748278-d8d30700-8282-11eb-9c4e-0c1af07c0684.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2021-03-11 15-59-21\"></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// index.js</span>\n\n<span class=\"token keyword\">import</span> ScrollList <span class=\"token keyword\">from</span> <span class=\"token string\">\"./components/ScrollList.js\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> $li <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"li\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  $li<span class=\"token punctuation\">.</span>className <span class=\"token operator\">=</span> <span class=\"token string\">\"scroll-item\"</span><span class=\"token punctuation\">;</span>\n  $li<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> item<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> $li<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">createLoadMore</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> scrollList<span class=\"token punctuation\">,</span> html <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token function\">loadMore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> scrollableHeight <span class=\"token operator\">=</span> html<span class=\"token punctuation\">.</span>scrollHeight <span class=\"token operator\">-</span> window<span class=\"token punctuation\">.</span>innerHeight<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>scrollY <span class=\"token operator\">>=</span> scrollableHeight<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      scrollList<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> items <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">_<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">item </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token constant\">PER_ITEMS</span> <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> scrollList <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ScrollList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    $target<span class=\"token operator\">:</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#scroll-list\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    items<span class=\"token punctuation\">,</span>\n    renderPerItem<span class=\"token operator\">:</span> <span class=\"token constant\">PER_ITEMS</span><span class=\"token punctuation\">,</span>\n    createElement<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"scroll\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">createLoadMore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> scrollList<span class=\"token punctuation\">,</span> html<span class=\"token operator\">:</span> document<span class=\"token punctuation\">.</span>documentElement <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"2-intersectionobserver-ì‚¬ìš©í•˜ì—¬-êµ¬í˜„í•˜ëŠ”-ë°©ë²•\" style=\"position:relative;\"><a href=\"#2-intersectionobserver-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%EA%B5%AC%ED%98%84%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95\" aria-label=\"2 intersectionobserver ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•˜ëŠ” ë°©ë²• permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. IntersectionObserver ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•˜ëŠ” ë°©ë²•</h3>\n<h4 id=\"-ì‚¬ì „ì§€ì‹\" style=\"position:relative;\"><a href=\"#-%EC%82%AC%EC%A0%84%EC%A7%80%EC%8B%9D\" aria-label=\" ì‚¬ì „ì§€ì‹ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ“– ì‚¬ì „ì§€ì‹</h4>\n<ul>\n<li><code class=\"language-text\">IntersectionObserver</code>ëŠ” íƒ€ê²Ÿì„ ì§€ì •í•˜ê³ ë‚œ í›„ íƒ€ê²Ÿì´ â€˜ë³´ì—¬ì§€ëŠ” ì˜ì—­â€™ì— ë‚˜íƒ€ë‚¬ëŠ”ì§€ ê´€ì°°, ê°ì‹œí•˜ëŠ” ê¸°ëŠ¥ì´ ìˆë‹¤. </li>\n<li>\n<p>ìƒì„±ìì— ê°ì§€í•  ë•Œ í˜¸ì¶œí•˜ëŠ” ì½œë°±í•¨ìˆ˜ì™€ ê°ì§€ ì˜ì—­ ë° ê°ì§€ ë¹„ìœ¨ì„ ì§€ì •í•˜ëŠ” ì˜µì…˜ê°’ì„ ë„˜ê¸´ë‹¤. </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">new</span> <span class=\"token class-name\">IntersectionObserver</span><span class=\"token punctuation\">(</span>callback<span class=\"token punctuation\">,</span>options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n<li><code class=\"language-text\">callback</code> : ê°ì§€í•  ëŒ€ìƒìœ¼ë¡œ ë“±ë¡í•œ íƒ€ê²Ÿ ëª©ë¡ë“¤(entries)ê³¼ observer ì¸ìŠ¤í„´ìŠ¤ ìì‹ ì„ ì¸ìë¡œ ë°›ëŠ” í˜•íƒœë‹¤. ì½œë°±ì´ ê³§ë°”ë¡œ ì‹¤í–‰ë˜ë¯€ë¡œ ë“±ë¡í•œ íƒ€ê²Ÿì´ ê°ì§€ë˜ì—ˆëŠ”ì§€ í™•ì¸ í›„ ê°ì§€ë˜ì—ˆì„ ë•Œ ì›í•˜ëŠ” ë™ì‘ì„ ì‹¤í–‰í•´ì•¼í•œë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">callback</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">entries<span class=\"token punctuation\">,</span>observer</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ê°ì§€ëœ ê²½ìš° </span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>entries<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>isIntersecting<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// ì›í•˜ëŠ” ë™ì‘ ì‹¤í–‰</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">options</code>ëŠ” íƒ€ê²Ÿì„ ê°ì§€í•  ì˜ì—­(root)ê³¼ ì˜ì—­í¬ê¸°(rootMargin) ê·¸ë¦¬ê³  íƒ€ê²Ÿì´ ì˜ì—­ì— ë…¸ì¶œëœ ë¹„ìœ¨(threshold)ë¥¼ ê²°ì •í•˜ëŠ” ê°ì²´ë‹¤. ê°ê° ë¬¸ì„œì˜ ë·°í¬íŠ¸, â€œ0pxâ€, 0 ê°’ì´ ë””í´íŠ¸ë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    root<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n    rootMargin<span class=\"token operator\">:</span><span class=\"token string\">\"0px\"</span><span class=\"token punctuation\">,</span>\n    threshold<span class=\"token operator\">:</span><span class=\"token number\">0</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"ë™ì‘ì›ë¦¬-1\" style=\"position:relative;\"><a href=\"#%EB%8F%99%EC%9E%91%EC%9B%90%EB%A6%AC-1\" aria-label=\"ë™ì‘ì›ë¦¬ 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë™ì‘ì›ë¦¬</h4>\n<ul>\n<li>ì „ì²´ ëª©ë¡ ì¤‘ ì¼ë¶€ë§Œ ë¨¼ì € ë Œë”ë§í•œë‹¤.</li>\n<li>ë§ˆì§€ë§‰ì— ë Œë”ë§í•œ ê°’ë§Œ ê°ì‹œí•œë‹¤.\n<img src=\"https://user-images.githubusercontent.com/47022167/110752450-a62c0d00-8288-11eb-96be-e04536d78bcd.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2021-03-11 16-36-46\"></li>\n<li>ë§ˆì§€ë§‰ì— ë Œë”ë§í•œ ì—˜ë¦¬ë¨¼íŠ¸ê°€ ê°ì§€ë˜ë©´ ì „ì²´ ëª©ë¡ì—ì„œ ì•„ì§ ë Œë”ë§ë˜ì§€ ì•Šì€ ê°’ë“¤ì„ ì¶”ê°€ì ìœ¼ë¡œ ë Œë”ë§í•œë‹¤.\n<img src=\"https://user-images.githubusercontent.com/47022167/110752490-b217cf00-8288-11eb-9f1e-5b2b7c8afa56.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2021-03-11 16-39-21\">\n<img src=\"https://user-images.githubusercontent.com/47022167/110752517-b93edd00-8288-11eb-8ca1-ce0b038793f2.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2021-03-11 16-41-10\"></li>\n<li>ì „ì²´ ëª©ë¡ì´ ëª¨ë‘ ë Œë”ë§í•˜ê¸° ì „ê¹Œì§€ ìœ„ ê³¼ì •ì„ ë°˜ë³µí•œë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// index.js</span>\n\n<span class=\"token keyword\">import</span> ScrollList <span class=\"token keyword\">from</span> <span class=\"token string\">\"./components/ScrollList.js\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> items <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">_<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">item </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">PER_ITEMS</span> <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> $li <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"li\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  $li<span class=\"token punctuation\">.</span>className <span class=\"token operator\">=</span> <span class=\"token string\">\"scroll-item\"</span><span class=\"token punctuation\">;</span>\n  $li<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> item<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> $li<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">createObserverCallback</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">scrollList</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">entries<span class=\"token punctuation\">,</span> observer</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>entries<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>isIntersecting<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n    observer<span class=\"token punctuation\">.</span><span class=\"token function\">unobserve</span><span class=\"token punctuation\">(</span>entries<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>scrollList<span class=\"token punctuation\">.</span><span class=\"token function\">isAllItemsRendered</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      observer<span class=\"token punctuation\">.</span><span class=\"token function\">disconnect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      scrollList<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      observer<span class=\"token punctuation\">.</span><span class=\"token function\">observe</span><span class=\"token punctuation\">(</span>scrollList<span class=\"token punctuation\">.</span><span class=\"token function\">getLastRenderedItem</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> scrollList <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ScrollList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    $target<span class=\"token operator\">:</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#scroll-list\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    items<span class=\"token punctuation\">,</span>\n    renderPerItem<span class=\"token operator\">:</span> <span class=\"token constant\">PER_ITEMS</span><span class=\"token punctuation\">,</span>\n    createElement<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> io <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IntersectionObserver</span><span class=\"token punctuation\">(</span><span class=\"token function\">createObserverCallback</span><span class=\"token punctuation\">(</span>scrollList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    threshold<span class=\"token operator\">:</span> <span class=\"token number\">0.8</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  io<span class=\"token punctuation\">.</span><span class=\"token function\">observe</span><span class=\"token punctuation\">(</span>scrollList<span class=\"token punctuation\">.</span><span class=\"token function\">getLastRenderedItem</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","frontmatter":{"title":"infinite scroll","date":"March 11, 2021"}}},"pageContext":{"slug":"/uiux/infinite-scroll/","previous":{"fields":{"slug":"/uiux/scroll-animation/"},"frontmatter":{"title":"scroll animation","category":"uiux","draft":false}},"next":{"fields":{"slug":"/challenge30/21/"},"frontmatter":{"title":"21","category":"challenge30","draft":false}}}},"staticQueryHashes":["3128451518","521680639"]}